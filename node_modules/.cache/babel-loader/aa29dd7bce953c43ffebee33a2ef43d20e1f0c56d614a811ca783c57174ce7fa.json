{"ast":null,"code":"var _jsxFileName = \"/Users/jorgecruz/Desktop/firebase-app/src/App.js\",\n  _s = $RefreshSig$();\nimport { useState } from 'react';\nimport { db } from './firebaseConnect';\nimport { doc, setDoc, collection, addDoc, getDoc, getDocs } from 'firebase/firestore';\nimport './app.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [titulo, setTitulo] = useState('');\n  const [autor, setAutor] = useState('');\n  const [posts, setPosts] = useState([]);\n  async function handleAdd() {\n    // await setDoc(doc(db, \"posts\", \"12345\"), {\n    //   titulo: titulo,\n    //   autor: autor,\n    // })\n    // .then(() => {\n    //   console.log(\"DADOS REGISTRADO NO BANCO!\")\n    // })\n    // .catch((error) => {\n    //   console.log(\"GEROU ERRO\" + error)\n    // }) \n\n    await addDoc(collection(db, \"posts\"), {\n      titulo: titulo,\n      autor: autor\n    }).then(() => {\n      console.log(\"CADASTRADO COM SUCESSO\");\n      setAutor('');\n      setTitulo('');\n    }).catch(error => {\n      console.log(\"ERRO \" + error);\n    });\n  }\n  async function buscarPost() {\n    // const postRef = doc(db, \"posts\", \"vFvZAyFqebXFsFv0X89l\")\n    // await getDoc(postRef)\n    // .then((snapshot) => {\n    //   setAutor(snapshot.data().autor)\n    //   setTitulo(snapshot.data().titulo)\n\n    // })\n    // .catch(()=>{\n    //   console.log(\"ERRO AO BUSCAR\")\n    // })\n\n    const postsRef = collection(db, \"posts\");\n    await getDocs(postsRef).then(snapshot => {\n      let lista = [];\n      snapshot.forEach(doc => {\n        lista.push({\n          id: doc.id,\n          titulo: doc.data().titulo,\n          autor: doc.data().autor\n        });\n      });\n      setPosts(lista);\n    }).catch(error => {\n      console.log(\"DEU ALGUM ERRO AO BUSCAR\");\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"ReactJS + Firebase :)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Titulo:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        type: \"text\",\n        placeholder: \"Digite o titulo\",\n        value: titulo,\n        onChange: e => setTitulo(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Autor:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Autor do post\",\n        value: autor,\n        onChange: e => setAutor(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleAdd,\n        children: \"Cadastrar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: buscarPost,\n        children: \"Buscar post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: posts.map(post => {\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Titulo: \", post.titulo, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 15\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 51\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Autor: \", post.autor]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 15\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 48\n            }, this), \"  \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 55\n            }, this)]\n          }, post.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"pDy8JHLwAJcxnhNzdln5sipCpgk=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","db","doc","setDoc","collection","addDoc","getDoc","getDocs","App","titulo","setTitulo","autor","setAutor","posts","setPosts","handleAdd","then","console","log","catch","error","buscarPost","postsRef","snapshot","lista","forEach","push","id","data","e","target","value","map","post"],"sources":["/Users/jorgecruz/Desktop/firebase-app/src/App.js"],"sourcesContent":["import { useState } from 'react'\nimport { db } from './firebaseConnect';\nimport { doc, setDoc, collection, addDoc, getDoc, getDocs } from 'firebase/firestore'\n\nimport './app.css';\n\nfunction App() {\n  const [titulo, setTitulo] = useState('');\n  const [autor, setAutor] = useState('');\n\n  const [posts, setPosts] = useState([]);\n\n\n  async function handleAdd(){\n    // await setDoc(doc(db, \"posts\", \"12345\"), {\n    //   titulo: titulo,\n    //   autor: autor,\n    // })\n    // .then(() => {\n    //   console.log(\"DADOS REGISTRADO NO BANCO!\")\n    // })\n    // .catch((error) => {\n    //   console.log(\"GEROU ERRO\" + error)\n    // }) \n\n\n    await addDoc(collection(db, \"posts\"), {\n      titulo: titulo,\n      autor: autor,\n    })\n    .then(() => {\n      console.log(\"CADASTRADO COM SUCESSO\")\n      setAutor('');\n      setTitulo('')\n    })\n    .catch((error) => {\n      console.log(\"ERRO \" + error)\n    })\n\n\n  }\n\n\n  async function buscarPost(){\n    // const postRef = doc(db, \"posts\", \"vFvZAyFqebXFsFv0X89l\")\n    // await getDoc(postRef)\n    // .then((snapshot) => {\n    //   setAutor(snapshot.data().autor)\n    //   setTitulo(snapshot.data().titulo)\n\n    // })\n    // .catch(()=>{\n    //   console.log(\"ERRO AO BUSCAR\")\n    // })\n\n    const postsRef = collection(db, \"posts\")\n    await getDocs(postsRef)\n    .then((snapshot) => {\n      let lista = [];\n\n      snapshot.forEach((doc) => {\n        lista.push({\n          id: doc.id,\n          titulo: doc.data().titulo,\n          autor: doc.data().autor,\n        })\n      })\n\n      setPosts(lista);\n\n    })\n    .catch((error) => {\n      console.log(\"DEU ALGUM ERRO AO BUSCAR\")\n    })\n\n\n  }\n\n  return (\n    <div>\n      <h1>ReactJS + Firebase :)</h1>\n\n    <div className=\"container\">\n      <label>Titulo:</label>\n      <textarea \n        type=\"text\"\n        placeholder='Digite o titulo'\n        value={titulo}\n        onChange={ (e) => setTitulo(e.target.value) }\n      />\n\n      <label>Autor:</label>\n      <input \n        type=\"text\" \n        placeholder=\"Autor do post\"\n        value={autor}\n        onChange={(e) => setAutor(e.target.value) }\n      />\n\n      <button onClick={handleAdd}>Cadastrar</button>\n      <button onClick={buscarPost}>Buscar post</button>\n\n      <ul>\n        {posts.map( (post) => {\n          return(\n            <li key={post.id}>\n              <span>Titulo: {post.titulo} </span> <br/>\n              <span>Autor: {post.autor}</span> <br/>  <br/>\n            </li>\n          )\n        })}\n      </ul>\n\n    </div>\n\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}